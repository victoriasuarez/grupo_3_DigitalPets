<!DOCTYPE html>
<html lang="en">
    <%- include('partials/head', {styles: ['normalize', 'styles','header','footer','home']}) %>
<body>
    <%- include ('partials/header') %>
<main>
    <section class="carousel"> 
            <div class="carousel-images">
                <img src="/images/publicidad-whiskas.webp" alt="publicidad-whiskas">
                <img src="/images/publicidad-purina.webp" alt="publicidad-purina">
                <img src="/images/publicidad-ejemplo.jpg" alt="publicidad-ejemplo">
            </div>
            <div class="carousel-buttons">
                <button class="prev"><i class="fas fa-arrow-left"></i></button>
                <button class="next"><i class="fas fa-arrow-right"></i></button>
            </div>
            <div class="carousel-indicators">
                <span class="active"></span>
                <span></span>
                <span></span>
            </div>
    </section> 
    <script>
        let index = 0;
        const images = document.querySelectorAll('.carousel-images img');
        const indicators = document.querySelectorAll('.carousel-indicators span');

        function updateCarousel() {
            images.forEach((img, i) => {
                img.classList.toggle('active', i === index);
            });
            indicators.forEach((indicator, i) => {
                indicator.classList.toggle('active', i === index);
            });
        }

        document.querySelector('.carousel-buttons .prev').addEventListener('click', () => {
            index = (index - 1 + images.length) % images.length;
            updateCarousel();   
        });

        document.querySelector('.carousel-buttons .next').addEventListener('click', () => {
            index = (index + 1) % images.length;
            updateCarousel();
        });

        indicators.forEach((indicator, i) => {
            indicator.addEventListener('click', () => {
                index = i;
                updateCarousel();
            });
        });

        setInterval(() => {
            index = (index + 1) % images.length;
            updateCarousel();
        }, 6000);

        updateCarousel();
    </script>
    <section class="categories">
        <article>
            <div>
                <a href="#"><img src="/images/categoria-perros.jpg" alt="Dog"></a>
                <p><a href="#">Perros</a></p>
            </div>
        </article>
        <article>
            <div>
                <a href="#"><img src="/images/categoria-gatos.jpg" alt="Cat"></a>
                <p><a href="#">Gatos</a></p>
            </div>
        </article>
        <article>
            <div>
                <a href="#"><img src="/images/categoria-aves.jpg" alt="Bird"></a>
                <p><a href="#">Aves</a></p>
            </div>
            </article>
        <article>
            <div>
                <a href="#"><img src="/images/categoria-peces.jpg" alt="Fish"></a>
                <p><a href="#">Peces</a></p>
            </div>
        </article>
        <article>
            <div>
                <a href="#"><img src="/images/categoria-otros.png" alt="Others"></a>
                <p><a href="#">Otros</a></p>
            </div>
        </article>
    </section>

    <section class="featured-brands">
        <h2>Encontralo por marca</h2>
        <div class="brands">
            <article>
                <a href="#"><img src="/images/Kongo.jpg" alt="Kongo"></a>
            </article>
            <article>
                <a href="#"><img src="/images/Whiskas.jpg" alt="Whiskas"></a>
            </article>
            <article>
                <a href="#"><img src="/images/Pedigree.png" alt="Pedigree"></a>
            </article>
            <article>
                <a href="#"><img src="/images/Sabrositos.png" alt="Sabrositos"></a>
            </article>
        </div>
    </section>
    <section class="in-sale-products">
        <% if (locals.inSale) { %>
            <h2>Productos en oferta</h2>
            <div class="products">
                <% inSale.forEach(product => { %>
                                          
                <a href="/products/<%=product.id%>/detail">
                    <article>
                        <img src="/images/<%= product.image %>" alt="<%=product.name%>">
                        <div class="product-details">
                            <p class="category"><%= product.petType %></p>
                            <p class="product-name"><%= product.name %></p>
                            <p class="price">$<%= product.price %></p>
                        </div>
                    </article>
                </a>
                <% }) %>                
            </div>
            <% }%>
    </section>
    <section class="visited-products">
         <% if (locals.visited) { %>
            <h2>Productos Visitados</h2>
            <div class="products">
                <% visited.forEach(product => { %>
                                          
                <a href="/products/<%=product.id%>/detail">
                    <article>
                        <img src="/images/<%= product.image %>" alt="<%=product.name%>">
                        <div class="product-details">
                            <p class="category"><%= product.petType %></p>
                            <p class="product-name"><%= product.name %></p>
                            <p class="price">$<%= product.price %></p>
                        </div>
                    </article>
                </a>
                <% }) %>
            </div>
            <% }%>
    </section>
    <section class="food-products">
        <% if (locals.food) { %>
            <h2>Alimentos</h2>
            <div class="products">
                <% food.forEach(product => { %>
                                          
                <a href="/products/<%=product.id%>/detail">
                    <article>
                        <img src="/images/<%= product.image %>" alt="<%=product.name%>">
                        <div class="product-details">
                            <p class="category"><%= product.petType %></p>
                            <p class="product-name"><%= product.name %></p>
                            <p class="price">$<%= product.price %></p>
                        </div>
                    </article>
                </a>
                <% }) %>                
            </div>
            <% }%>
    </section>
</main>
<%- include ('partials/footer') %>
</body>
</html>